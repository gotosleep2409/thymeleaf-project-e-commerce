<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/extras/spring-security6" lang="en" >
<link th:href="@{/index.css}" rel="stylesheet"/>
<head th:replace="~{admin/fragments/head :: head}">

    <title> Admin </title></head>
<body class="hold-transition skin-blue sidebar-mini">
<!-- Site wrapper -->
<div class="wrapper">

    <div th:replace="~{admin/fragments/header :: header}"></div>

    <!-- =============================================== -->

    <!-- Left side column. contains the sidebar -->
    <div th:replace="~{admin/fragments/sidebar :: sidebar}"></div>

    <!-- =============================================== -->

    <!-- Content Wrapper. Contains page content -->
    <div class="content-wrapper">
        <!-- Content Header (Page header) -->
        <section class="content-header">
            <h1>
                Trang quản lý
                <small>Aobongda.net</small>
            </h1>
            <ol class="breadcrumb">
                <li><a href="/admin/"><i class="fa fa-dashboard"></i> Home</a></li>
                <li> <a> Order </a> </li>
            </ol>
        </section>

        <!-- Main content -->
        <section class="content">
            <h4>Chi tiết đơn hàng </h4>

            <table>
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Tên sản phẩm</th>
                    <th>Ảnh sản phẩm</th>
                    <th>Giá sản phẩm</th>
                    <th>Số lượng</th>
                    <th>Tổng</th>
                </tr>
                </thead>
                <tbody>
                <tr th:each="order : ${orderDetails}">
                    <td th:text="${order.id}"></td>
                    <td th:text="${order.product.name}"></td>
                    <td> <img style="width: 80% " th:src="@{'/uploads/'+${order.product.image}}">  </td>
                    <!--<td th:text="${order.price}"></td>-->
                    <td>
                        <span th:inline="text"> [[${#numbers.formatDecimal(order.price, 0, 'COMMA', 0, 'POINT')}]] ₫</span>
                    </td>
                    <td th:text="${order.quantity}"></td>
                    <td th:text="${order.price}*${order.quantity}"></td>
                    <!--<td>
                        <a th:href="@{/admin/orders/{id}(id=${order.id})}" class="button-update"> Detail</a>
                        <a th:href="@{/admin/orders/deleteCategory/{id}(id=${order.id})}" class="button-delete" >Delete</a>
                    </td>-->
                </tr>
                </tbody>
            </table>
            </br>
            <button class="btn-success btn" style="margin-left: 5%" >
                <span th:inline="text"> Tổng hóa đơn:  [[${#numbers.formatDecimal(total, 0, 'COMMA', 0, 'POINT')}]] ₫</span>
            </button>
        </section>

        <form th:object="${order}" th:action="@{/admin/orders/saveOrder/{id}(id=${id})}" method="post" enctype="multipart/form-data">
            <input type="hidden" th:field="*{id}">

            <label  style="font-size: 18px; margin-left: 5%">Payment status: </label>
            </br>
            <select style="margin-left: 5%; font-size: 18px" id="payment" name="paymentId" th:field="*{payment}">
                <option th:each="payment : ${paymentList}" th:value="${payment.id}" th:text="${payment.status}"></option>
            </select>
            </br>
            <label  style="font-size: 18px; margin-left: 5%">Delivery status: </label>
            </br>
            <select style="margin-left: 5%; font-size: 18px" id="delivery" name="deliveryId" th:field="*{delivery}">
                <option th:each="delivery : ${deliveryList}" th:value="${delivery.id}" th:text="${delivery.status}"></option>
            </select>
            </br>
            <button style="margin-left: 5%; margin-top: 10px" class="btn btn-success" type="submit" >Update</button>
        </form>
        <!-- /.content -->


    </div>
    <!-- /.content-wrapper -->

    <div th:replace="~{admin/fragments/footer :: footer}"></div>

</div>
<!-- ./wrapper -->

<!-- jQuery 3 -->
<div th:replace="~{admin/fragments/script :: script}"></div>

</body>
</html>
